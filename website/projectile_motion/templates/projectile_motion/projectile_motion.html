{% extends 'base.html' %}

{% block title %}Simulation of projectile motion with drag{% endblock %}

{% load static %}

{% block content %}
<head>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
</head>

<h1>Simulation of projectile motion with drag</h1>

<p>This is an interactive simulation of an inclined projectile motion with air resistance and adjustable initial conditions. It has a realistic modeling of air resistance and a visualization of the trajectory.</p>
<h2>Physics</h2>
<p>The simulation calculates the trajectory of a projectile under the influence of gravity and air resistance. It solves the following differential equation:</p>
<p>
    $$ m \ddot{\vec{r}} = \vec{F}_G + \vec{F}_D $$
</p>
<p>where the gravitational force \( \vec{F}_G \) is given by:</p>
<p>
    $$ \vec{F}_G = m \begin{pmatrix} 0 \\ -g \end{pmatrix} $$
</p>
<p>and the air drag force \( \vec{F}_D \) is given by:</p>
<p>
    $$ \vec{F}_D = -\frac{1}{2} c_F \left|\vec{v}\right| \begin{pmatrix} v_x \\ v_y \end{pmatrix} $$
</p>

<h2>Simulation</h2>
<link rel="stylesheet" type="text/css" href="{% static 'styles.css' %}">
<div class="container">
    <div class="left">
        <form method="post">
            {% csrf_token %}
            <div class="form-group">
                <label for="id_height">Height in m: <output id="height_output">{{ form.height.value }}</output></label>
                <input type="range" id="id_height" name="height" min="0.1" max="10" step="0.1" value="{{ form.height.value }}" oninput="document.getElementById('height_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_velocity">Velocity in m/s: <output id="velocity_output">{{ form.velocity.value }}</output></label>
                <input type="range" id="id_velocity" name="velocity" min="0.5" max="50" step="0.5" value="{{ form.velocity.value }}" oninput="document.getElementById('velocity_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_angle">Angle in Â°: <output id="angle_output">{{ form.angle.value }}</output></label>
                <input type="range" id="id_angle" name="angle" min="0" max="89" step="1" value="{{ form.angle.value }}" oninput="document.getElementById('angle_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_mass">Mass in kg: <output id="mass_output">{{ form.mass.value }}</output></label>
                <input type="range" id="id_mass" name="mass" min="1" max="50" step="1" value="{{ form.mass.value }}" oninput="document.getElementById('mass_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_c_F">Friction Factor in kg/m: <output id="c_F_output">{{ form.c_F.value }}</output></label>
                <input type="range" id="id_c_F" name="c_F" min="0" max="1" step="0.1" value="{{ form.c_F.value }}" oninput="document.getElementById('c_F_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_xmax">x-range in m: <output id="xmax_output">{{ form.xmax.value }}</output></label>
                <input type="range" id="id_xmax" name="xmax" min="0" max="300" step="2" value="{{ form.xmax.value }}" oninput="document.getElementById('xmax_output').textContent = this.value">
            </div>
            <div class="form-group">
                <label for="id_ymax">y-range in m: <output id="ymax_output">{{ form.ymax.value }}</output></label>
                <input type="range" id="id_ymax" name="ymax" min="0" max="80" step="1" value="{{ form.ymax.value }}" oninput="document.getElementById('ymax_output').textContent = this.value">
            </div>
            <button type="submit">Submit</button>
        </form>
    </div>
    <div class="right">
        <img src="{% url 'projectile_motion_image' %}" alt="Trajectory" id="projectile-motion-image">
    </div>
</div>
{% endblock %}